library(rms)

dd <- datadist(df); options(datadist = "dd")

cox_model <- cph(Surv(surv_time, event) ~ rcs(TTC_days, 4), data = df)

plot(Predict(cox_model, TTC_days), conf.int = TRUE,
     xlab = "TTC (days)", ylab = "Relative Hazard",
     main = "Hazard Ratio vs. Time to Chemotherapy")
